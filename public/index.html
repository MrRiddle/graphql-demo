<!DOCTYPE html>
<html>
<head>
    <title>Graphql Demo</title>
    <style type="text/css">
        textarea {
            width: 320px;
            height: 480px;
            font-size: 14px;
            tab-size: 4;
            font-family: Consolas, Georgia, Serif;
        }
    </style>
</head>
<body>
    <form target="_blank" id="form" method="post">
        <textarea name="query" id="query" onkeydown="handleTab(this)"></textarea>
    </form>
    <select id="path">
        <option value ="/customers">customers</option>
        <option value="/employees">employees</option>
    </select>
    <button onclick="handleQuery()">查询</button>
    <script type="text/javascript">

        function handleTab(target){
            var e = window.event;
            var keyCode = e.keyCode || e.which;
            if (keyCode === 9) {
                e.preventDefault();
                var start = target.selectionStart;
                var end = target.selectionEnd;
                var value = target.value;

                target.value = `${value.substring(0, start)}\t${value.substring(end)}`

                target.selectionStart = target.selectionEnd = start + 1;
            }

        }

        function handleQuery(){
            var form = document.getElementById('form');
            var path = document.getElementById('path').value;
            form.setAttribute('action', path);
            form.submit();
        }
    </script>
</body>
</html>